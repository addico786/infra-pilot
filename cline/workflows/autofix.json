{
  "name": "InfraPilot Auto-Fix Workflow",
  "version": "1.0.0",
  "description": "VS Code Cline workflow for generating infrastructure fix patches",
  "comment": "This workflow demonstrates Cline integration for Infinity Build Award. It uses VS Code Cline extension commands to generate patches for infrastructure drift issues.",
  
  "workflow": {
    "id": "infrapilot-autofix",
    "trigger": "manual",
    "steps": [
      {
        "id": "generate-patch",
        "name": "Generate Patch via Cline",
        "type": "command",
        "command": "codeium.cline.generatePatch",
        "description": "Invokes VS Code Cline extension to generate a unified diff patch for the specified infrastructure issue",
        "inputs": {
          "file_path": {
            "type": "string",
            "required": true,
            "description": "Path to the infrastructure file (Terraform or Kubernetes YAML)"
          },
          "issue_description": {
            "type": "string",
            "required": true,
            "description": "Detailed description of the infrastructure drift issue to fix"
          }
        },
        "outputs": {
          "patch_text": {
            "type": "string",
            "description": "Unified diff format patch text generated by Cline"
          }
        }
      }
    ]
  },
  
  "metadata": {
    "author": "InfraPilot Team",
    "created_for": "AssembleHack Infinity Build Award",
    "integration": "VS Code Cline Extension",
    "purpose": "Demonstrates automated infrastructure fix generation using Cline AI-powered code editing",
    "judge_notes": "This workflow file defines how InfraPilot integrates with Cline via VS Code commands. The actual execution is handled by scripts/run_cline.sh which invokes the VS Code CLI with the codeium.cline.generatePatch command."
  }
}

